{%extends 'base.html'%} {%block title%}Add Question{%endblock%} {%block content%}

<main class="w-full h-fit flex justify-center bg-base-b">

    <div class="w-full max-w-4xl mt-5 bg-white rounded-2xl shadow-lg p-8 border border-gray-200">
        <h1 class=" text-3xl font-bold mb-3 text-gray-800">Add Question</h1>
        <hr class="mb-3" />
        <form action="" method="post">
            <div class="mb-6">
                <label class="block text-lg font-semibold mb-2">Question</label>
                <input type="text" placeholder="Add your question" required
                    class="w-full px-4 py-3 border border-gray-300 rounded-xl placeholder:text-gray-400 placeholder:text-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
            </div>


            <div class="mb-6">
                <label class="block text-lg font-semibold mb-2">Options</label>
                <div class="grid grid-cols-2 gap-4">
                    <input type="text" placeholder="Option 1" required
                        class="option-input px-4 py-2 border border-gray-300 rounded-xl placeholder:text-base focus:outline-none focus:ring-2 focus:ring-blue-400" />
                    <input type="text" placeholder="Option 2" required
                        class="option-input px-4 py-2 border border-gray-300 rounded-xl placeholder:text-base focus:outline-none focus:ring-2 focus:ring-blue-400" />
                    <input type="text" placeholder="Option 3" required
                        class="option-input px-4 py-2 border border-gray-300 rounded-xl placeholder:text-base focus:outline-none focus:ring-2 focus:ring-blue-400" />
                    <input type="text" placeholder="Option 4" required
                        class="option-input px-4 py-2 border border-gray-300 rounded-xl placeholder:text-base focus:outline-none focus:ring-2 focus:ring-blue-400" />
                </div>
            </div>

            <div class="mb-6 flex gap-6">
                <div class="flex-1">
                    <label class="block text-lg font-semibold mb-2">Correct Options</label>
                    <select id="correctOption" required
                        class="w-full px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <option value="" disabled selected>Select Correct Option</option>
                    </select>
                </div>


                <div class="flex-1">
                    <label class="block text-lg font-semibold mb-2">Category</label>
                    <select required
                        class="w-full px-4 py-2 border border-gray-300 rounded-xl text-base text-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-400">
                        <option value="" disabled selected>Select Category</option>
                        {% for category in categories %}

                        <option value="{{category}}">{{category}}</option>
                        {%endfor%}
                    </select>
                </div>
            </div>


            <div class="text-center">
                <input type="submit" value="Submit"
                    class="bg-accent text-white font-semibold px-6 py-2 rounded-xl hover:bg-blue-700 transition-all cursor-pointer" />
            </div>
        </form>
    </div>
</main>


<script>
    document.addEventListener("DOMContentLoaded", function () {
        const optionInputs = document.querySelectorAll(".option-input");
        const correctOptionSelect = document.getElementById("correctOption");

        optionInputs.forEach(input => {
            input.addEventListener("input", updateDropdown);
        });

        function updateDropdown() {
            correctOptionSelect.innerHTML = '<option value="" disabled selected>Select Correct Option</option>';

            optionInputs.forEach(input => {
                if (input.value.trim() !== "") {
                    const option = document.createElement("option");
                    option.value = input.value;
                    option.textContent = input.value;
                    correctOptionSelect.appendChild(option);
                }
            });
        }
    });
</script>

{%endblock%} {% block scripts %}
<!-- Child templates can insert their own scripts here -->
{% endblock %}