{% extends 'base.html' %}
{% block title %}Start Quiz{% endblock %}
{% block content %}
<main class="w-full min-h-screen bg-base-b flex justify-center items-start py-10 px-4">
    <div id="quiz-info"
         class="w-full max-w-4xl bg-white shadow-lg rounded-xl p-6 sm:p-10 flex flex-col gap-8 text-base-t">

       
        <div class="text-center">
            <h1 class="text-3xl font-extrabold text-gray-800 tracking-wide">
                {% block quiz_type %}{% endblock %} : {% block quiz_mode %}{% endblock %}
            </h1>
        </div>

    
        <div class="text-gray-700 leading-relaxed text-justify">
            {% block quiz_info %}{% endblock %}
        </div>

    
        <form action="{{ url_for('quiz.quiz_start', type=quiz_type|lower, mode=quiz_mode|lower) }}"
              class="space-y-6"
              onsubmit="return validateBeforeStart();">

            <div class="flex flex-col sm:flex-row justify-around">
                {% block no_of_Question %}{% endblock %}
                {% block catogery_select %}{% endblock %}
            </div>

            <div class="flex justify-center">
                <button type="submit"
                        id="start-btn"
                        class="px-6 py-3 bg-accent text-accent-t text-lg rounded-md shadow-md hover:bg-accent-h transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent">
                    ðŸš€ Start Quiz
                </button>
            </div>
        </form>
    </div>
</main>

<script>
    function validateBeforeStart() {
        if ('{{quiz_type|lower}}' === 'category') {
            const selectedValue = document.getElementById("category-select").value.trim();
            if (!selectedValue) {
                alert("Please select a category before starting the quiz.");
                return false;
            }
        }
        if ('{{quiz_mode|lower}}' === 'classic') {
            const selectedValue = document.getElementById("no-of-question").value.trim();
            if (selectedValue === '' || isNaN(selectedValue)) {
                alert("Please select a valid number of questions before starting the quiz.");
                return false;
            }
        }
        return true;
    }
</script>
{% endblock %}
